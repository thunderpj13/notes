## GCC 编译器

-------------------

- **基本语法**

  ​	gcc [**-c** | **-S** | **-E**] [**-std**=standard]

  ​			[**-W**warn...]

  ​			[**-I**dir...]

  ​			[**-L**dir...]

  ​			[**-D**macro[=defn]...]

  ​			[**-U**macro]

  ​			[**-o** outfile]

  ​			infile... 

- **编译阶段**

   1. 预处理

      ​	指定**-E**参数，只进行预处理。结果默认输出到`stdout`。

   2. 编译

      ​	指定**-S**参数，编译器在编译阶段后停止。输出为汇编文件，默认文件后缀为**.s**。

   3. 汇编

      ​	指定**-c**参数，编译器在汇编阶段后停止。输出为目标文件，默认后缀名为**.o**。

   4. 链接

      ​	默认情况下四个阶段都进行，输出为可执行文件。

- **其他参数**

  ​	**-I** 	头文件所在目录

  ​	**-L** 	共享库目录，用于链接

  ​	**-W** 	错误与警告
  
  ​	 **-i** 	头文件
  
   	**-l** 	库文件
  
- **静态库链接顺序**

   ​	一般需要把依赖其他库的目标文件指定在被依赖库之前，否则某些链接器会报undefined symbol错误。 [详细参考](https://www.linuxopia.org/online_books/an_introduction_to_gcc/gccintro_18.html)

   ​	linux下静态库一般以lib为前缀，.a为后缀，如libglfw3.a；动态库以.so为后缀。
   
   ​	windows下静态库以lib为后缀， 动态库以dll为后缀。
   
- **注意**

   g++在链接时搜索到第三方库时，链接成功。但是在执行过程中，当调用相应的外部函数时，程序再一次会去找第三方库，因为默认搜索目录没有，所以会出现找不到库的情况。这是需要我们修改编译链接命令。
    需要加入-Wl,-rpath="具体目录"，将第三方库路径显示加入程序运行时搜索目录，在此处我将上面的第三方可都放入alllib目录下了。